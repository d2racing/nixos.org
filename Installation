Do a clean install with the LiveCD and install XFCE.

# mkdir /mnt/scripts
# nix-shell -p git 
# git clone https://github.com/d2racing/nixos.org.git
# cd /mnt/scripts/nixos.org/

# cp configuration.nix /etc/nixos/

Normal update : 
# nix-channel --list
# nixos-rebuild switch --upgrade
# reboot

In case of a major release for example 25.05 to 25.11 :
# nix-channel --remove nixos && \
  nix-channel --add https://channels.nixos.org/nixos-25.11 nixos && \
  nix-channel --update && \
  nixos-rebuild switch && \
  nix-env --delete-generations +10 --profile /nix/var/nix/profiles/system && \
  find /nix/var/nix/profiles/ -maxdepth 1 -type l -name 'system-*-link' \
  ! -exec test -e {} \; -print | xargs -r rm -f && \
  nixos-rebuild boot && \
  nixos-rebuild switch --upgrade && \
  nix-collect-garbage -d

Switching to unstable : 
# nix-channel --remove nixos && \
  nix-channel --add https://nixos.org/channels/nixos-unstable nixos && \
  nix-channel --update && \
  nixos-rebuild switch && \
  nix-env --delete-generations +30 --profile /nix/var/nix/profiles/system && \
  find /nix/var/nix/profiles/ -maxdepth 1 -type l -name 'system-*-link' \
  ! -exec test -e {} \; -print | xargs -r rm -f && \
  nixos-rebuild boot && \
  nixos-rebuild switch --upgrade && \
  nix-collect-garbage -d



# mkdir -p /etc/nixos/secrets
# nano /etc/nixos/secrets/nas-credentials
username=yyyy
password=xxxx

# chmod 600 /etc/nixos/secrets/nas-credentials


{
  fileSystems."/mnt/nas" = {
    device = "//192.168.x.xxx/LOGICIELS";
    fsType = "cifs";
    options = [
      "credentials=/etc/nixos/secrets/nas-credentials"
      "rw"
      "iocharset=utf8"
      "vers=3.0"
      "uid=1000"
      "gid=1000"
    ];
  };

  fileSystems."/mnt/linux" = {
    device = "//192.168.x.xxx/LINUX";
    fsType = "cifs";
    options = [
      "credentials=/etc/nixos/secrets/nas-credentials"
      "rw"
      "iocharset=utf8"
      "vers=3.0"
      "uid=1000"
      "gid=1000"
    ];
  };




This gives you a fully modular, clean setup:
Chrome + 1Password + AnyDesk
VLC + HEVC/HEIF/AV1 codecs
Thunar + SMB support
AMD GPU optimization
LightDM + printing + Bluetooth
User and fonts ready
